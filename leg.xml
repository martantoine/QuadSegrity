<!-- Antoine Vincent Martin 
-->

<mujoco model="Tensegrity Leg">
  <option timestep="0.005" iterations="50" solver="Newton" tolerance="1e-10"/>

  <default>
	  <!--<joint type="hinge" pos="0 0 0" axis="0 0 1" limited="true" range="0 120" damping="0.1"/>-->
    <joint type="ball"/>
    <muscle ctrllimited="true" ctrlrange="-1000 1000"/>
    <geom size="0.003" mass="0.2" rgba=".5 .1 .1 1"/>
    <site size="0.005" rgba="0 .7 0 1"/>
    <tendon rgba="0 1 0 1" stiffness="1000" damping="10"/>
  </default>

  <asset>
    <texture name="texplane" type="2d" builtin="checker" rgb1=".25 .25 .25" rgb2=".28 .28 .28" width="512" height="512" markrgb=".8 .8 .8"/>
    <material name="matplane" reflectance="0.0" texture="texplane" texrepeat="1 1" texuniform="true"/>
  </asset>

  <worldbody>
    <geom name="floor" pos="0 0 -1" size="0 0 1" type="plane" material="matplane"/>
    <light directional="true" diffuse=".8 .8 .8" specular=".2 .2 .2" pos="0 0 5" dir="0 0 -1"/>

    <!--FORK-->
    <geom type="capsule" fromto="0    0 0  0.05 0    0"/>
    <geom type="capsule" fromto="0.05 0 0  0.1  0.05 0"/>
    <geom type="capsule" fromto="0.05 0 0  0.1 -0.05 0"/>

    <!--QUAD FORK START-->
    <site name="y0_0" pos="0  0.01  0   "/>
    <site name="y0_1" pos="0 -0.01  0   "/>
    <site name="y0_2" pos="0  0     0.01"/>
    <site name="y0_3" pos="0  0    -0.01"/>

    <!--QUAD FORK MIDDLE-->
    <site name="y0_4" pos="0.05  0.01  0   " rgba="0 0 .7 1"/>
    <site name="y0_5" pos="0.05 -0.01  0   " rgba="0 0 .7 1"/>
    <site name="y0_6" pos="0.05  0     0.01" rgba="0 0 .7 1"/>
    <site name="y0_7" pos="0.05  0    -0.01" rgba="0 0 .7 1"/>

    <!--QUAD FORK END-->
    <site name="y0_8" pos="0.1  0.05 0"/>
    <site name="y0_9" pos="0.1 -0.05 0"/>

    <body pos="0.1 0 0">
      <joint type="free"/>
      <geom type="capsule" fromto="0 0 0   0.05156 0  0.03"/>
      <geom type="capsule" fromto="0 0 0   0       0 -0.06"/>
      <geom type="capsule" fromto="0 0 0  -0.05156 0  0.03"/>

      
      <site name="x0_1"  pos=" 0.05156 0  0.03 "/>
      <site name="x0_2"  pos=" 0       0 -0.06 "/>
      <site name="x0_3"  pos="-0.05156 0  0.03 "/>

      <!--STAR MUSCLE'S TENDONS VIAS-->
      <site name="x0_0v" pos=" 0       -0.01  0    " rgba="0 0 .7 1"/>
      <site name="x0_1v" pos=" 0        0.01  0    " rgba="0 0 .7 1"/>
      <site name="x0_2v" pos=" 0.02578  0     0.015" rgba="0 0 .7 1"/>
      <site name="x0_3v" pos=" 0        0    -0.03 " rgba="0 0 .7 1"/>
      <site name="x0_4v" pos="-0.02578  0     0.015" rgba="0 0 .7 1"/>
    </body>
    
    <body pos="0.25 0 0" euler="0 0 180">
      <joint type="free"/>
      <geom type="capsule" fromto="0   0 0   0.1   0     0"/>
      <geom type="capsule" fromto="0.1 0 0   0.15  0.035 0"/>
      <geom type="capsule" fromto="0.1 0 0   0.15 -0.035 0"/>
      <geom type="capsule" fromto="0   0 0  -0.05  0.035 0"/>
      <geom type="capsule" fromto="0   0 0  -0.05 -0.035 0"/>

      <!--QUAD FORK MIDDLE-->
      <site name="y1_4" pos="0.1  0.01  0   " rgba="0 0 .7 1"/>
      <site name="y1_5" pos="0.1 -0.01  0   " rgba="0 0 .7 1"/>
      <site name="y1_6" pos="0.1  0     0.01"/>
      <site name="y1_7" pos="0.1  0    -0.01"/>
      <site name="y1_8" pos="0    0     0.01" rgba="0 0 .7 1"/>
      <site name="y1_9" pos="0    0    -0.01" rgba="0 0 .7 1"/>
      
      <!--QUAD FORK END-->
      <site name="y1_A" pos=" 0.15  0.035 0"/>
      <site name="y1_B" pos=" 0.15 -0.035 0"/>
      <site name="y1_C" pos="-0.05  0.035 0"/>
      <site name="y1_D" pos="-0.05 -0.035 0"/>
    </body>
    
    <body pos="0.3 0 0" euler="180 0 0">
      <joint type="free"/>
      <geom type="capsule" fromto="0 0 0   0.05156 0  0.03"/>
      <geom type="capsule" fromto="0 0 0   0       0 -0.06"/>
      <geom type="capsule" fromto="0 0 0  -0.05156 0  0.03"/>

      
      <site name="x1_1"  pos=" 0.05156 0  0.03 "/>
      <site name="x1_2"  pos=" 0       0 -0.06 "/>
      <site name="x1_3"  pos="-0.05156 0  0.03 "/>

      <!--STAR MUSCLE'S TENDONS VIAS-->
      <site name="x1_2v" pos=" 0.02578  0     0.015" rgba="0 0 .7 1"/>
      <site name="x1_3v" pos=" 0        0    -0.03 " rgba="0 0 .7 1"/>
      <site name="x1_4v" pos="-0.02578  0     0.015" rgba="0 0 .7 1"/>
    </body>
   

    <body pos="0.45 0 0" euler="0 0 180">
      <joint type="free"/>
      <geom type="capsule" fromto="0   0 0  0.1   0    0"/>
      <geom type="capsule" fromto="0.1 0 0  0.15  0.05 0"/>
      <geom type="capsule" fromto="0.1 0 0  0.15 -0.05 0"/>
      <geom type="sphere"  pos="0 0 0" size="0.015"/>
    
      <!--QUAD FORK END-->
      <site name="y2_0" pos=" 0.15  0.05 0"/>
      <site name="y2_1" pos=" 0.15 -0.05 0"/>

      <!--QUAD FORK MIDDLE-->
      <site name="y2_2" pos="0.1  0     0.01"/>
      <site name="y2_3" pos="0.1  0    -0.01"/>
    </body>
  </worldbody>
  <!--
  <tendon>
    <spatial name="T0a" width="0.001">
      <site site="w0"/>
      <site site="x0"/>
    </spatial>
    <spatial name="T0b" width="0.001">  
      <site site="w1"/>
      <site site="x0"/>
    </spatial>
    
    <spatial name="T3a" width="0.001">
      <site site="w01"/>
      <site site="x0"/>
    </spatial>
    <spatial name="T3b" width="0.001">
      <site site="w11"/>
      <site site="x0"/>
    </spatial>
    
    <spatial name="T1a" width="0.001">
      <site site="x1"/>
      <site site="w0"/>
    </spatial>
    <spatial name="T1b" width="0.001">
      <site site="x1"/>
      <site site="w1"/>
    </spatial>
    
    <spatial name="T4a" width="0.001">
      <site site="w01"/>
      <site site="x1"/>
    </spatial>
    <spatial name="T4b" width="0.001">
      <site site="x1"/>
      <site site="w11"/>
    </spatial>

    <spatial name="T2a" width="0.001">
      <site site="w0"/>
      <site site="x2"/>
    </spatial>
    <spatial name="T2b" width="0.001">
      <site site="x2"/>
      <site site="w1"/>
    </spatial>
    
    <spatial name="T5a" width="0.001">
      <site site="w01"/>
      <site site="x2"/>
    </spatial>
    <spatial name="T5b" width="0.001">
      <site site="x2"/>
      <site site="w11"/>
    </spatial>

    <spatial name="T6" width="0.001">
      <site site="r0"/>
      <site site="r1"/>
      <site site="r2"/>
    </spatial>
    <spatial name="T7" width="0.001">
      <site site="r0"/>
      <site site="r4"/>
      <site site="r3"/>
      <site site="r2"/>
    </spatial>
  </tendon>
  -->
  <!--
  <actuator>
    <muscle name="T6" tendon="T6" range="300 320"/>
	  </actuator>
  -->
</mujoco>
